<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>NJ Design & Print — Costos de Producción</title>
  <link rel="stylesheet" href="styles.css" />
  <script defer src="app.js"></script>
</head>

<body>
  <div class="wrap">

    <header class="top card">
      <div class="brand">
        <img
          class="logo"
          id="brandLogo"
          src="./images/logo.png"
          alt="Logo NJ Design & Print"
          loading="eager"
          decoding="async"
        />
        <div class="brandText">
          <h1>NJ Design &amp; Print — Costos de Producción</h1>
          <p class="smallMuted">346-213-5545 · njdesignprintllc.com</p>
          <p class="smallMuted">Modo: <b>costo de material</b> (no precio al cliente)</p>
        </div>
      </div>

      <div class="notice" id="statusBar" hidden></div>
    </header>

    <!-- SELECTOR PRINCIPAL -->
    <section class="card">
      <h2>¿Qué vas a calcular?</h2>

      <div class="row">
        <div>
          <label>Opción</label>
          <select id="quoteSelect">
            <option value="">— Selecciona —</option>
            <option value="tint">Commercial Windows Tint (Costo material)</option>
            <option value="canvas">Canvas Banner (Costo material)</option>
            <option value="perfs">Windows Perfs (próximamente)</option>
            <option value="decals">Decals (próximamente)</option>
          </select>
        </div>

        <div>
          <label>Nota (opcional)</label>
          <input id="note" type="text" placeholder="Ej: Trabajo #23 / Cliente X" />
        </div>
      </div>

      <div class="bar">
        <span class="pill" id="currentMode">Modo: —</span>
        <button id="resetBtn" class="ghost">Limpiar</button>
      </div>
    </section>

    <!-- VISTA -->
    <section class="card" id="viewBox" hidden>
      <div class="titleRow" id="viewTitle"></div>

      <!-- =======================
           TINT
           ======================= -->
      <div class="view" id="view-tint" hidden>

        <div class="subTitle">Base (largo fijo)</div>
        <div class="materialBox">
          <div><b>Largo base:</b> 100 ft (fijo)</div>
          <div><b>Fórmula:</b> costo/ft² = precio rollo ÷ ((ancho_in/12) × 100)</div>
        </div>

        <div class="subTitle" style="margin-top:12px;">1) Datos del rollo</div>
        <div class="row">
          <div>
            <label>Ancho del rollo (in)</label>
            <input id="rollWidthIn" type="number" step="0.01" value="60" />
          </div>
          <div>
            <label>Precio del rollo (USD)</label>
            <input id="rollPrice" type="number" step="0.01" value="350" />
          </div>
        </div>

        <div class="materialBox" id="baseSummary">
          <div><b>Área base:</b> —</div>
          <div><b>Costo/ft²:</b> —</div>
        </div>

        <div class="hr"></div>

        <div class="subTitle">2) ¿Cómo quieres calcular?</div>
        <div class="row">
          <div>
            <label>Método</label>
            <select id="tintMethod">
              <option value="">— Selecciona —</option>
              <option value="use">Calcular material usado (corte)</option>
              <option value="wins">Calcular por ventanas</option>
            </select>
          </div>
          <div class="hint">
            <span>Solo se mostrará la opción que elijas.</span>
          </div>
        </div>

        <!-- MÉTODO: USO DIRECTO -->
        <div id="method-use" hidden>
          <div class="subTitle">Material que vas a usar (del rollo)</div>

          <div class="row">
            <div>
              <label>Ancho usado (in)</label>
              <input id="useWidthIn" type="number" step="0.01" value="60" />
            </div>
            <div>
              <label>Largo usado</label>
              <input id="useLength" type="number" step="0.01" value="48" />
            </div>
          </div>

          <div class="row">
            <div>
              <label>Unidad del largo usado</label>
              <select id="useLengthUnit">
                <option value="in" selected>Pulgadas (in)</option>
                <option value="ft">Pies (ft)</option>
              </select>
            </div>
            <div>
              <label>Cantidad (piezas)</label>
              <input id="useQty" type="number" step="1" value="1" />
            </div>
          </div>

          <button class="primary" id="calcUse">Calcular costo del material usado</button>

          <div class="result" id="useResult" hidden>
            <div class="kpi">
              <div class="k"><div class="t">Área total</div><div class="v" id="useArea">—</div></div>
              <div class="k"><div class="t">Costo material</div><div class="v" id="useCost">$0.00</div></div>
              <div class="k"><div class="t">Costo/ft²</div><div class="v" id="useCPP">—</div></div>
            </div>
            <div class="notes" id="useNotes"></div>
          </div>
        </div>

        <!-- MÉTODO: VENTANAS -->
        <div id="method-wins" hidden>
          <div class="subTitle">Ventanas (calcula pulgadas de material + ft²)</div>

          <div class="materialBox">
            <div><b>Cómo se calcula:</b> asume que cada ventana consume el largo según su <b>alto</b>.</div>
            <div>Si una ventana es más ancha que el rollo ⇒ se paneliza y consume <b>alto × paneles</b>.</div>
          </div>

          <div class="winGrid">
            <div class="winRow winHead">
              <div>Descripción</div>
              <div>Ancho (in)</div>
              <div>Alto (in)</div>
              <div>Qty</div>
              <div></div>
            </div>
            <div id="winList"></div>
          </div>

          <div class="btnRow">
            <button class="ghost" id="addWin">+ Agregar ventana</button>
            <button class="primary" id="calcWins">Calcular material (pulgadas + ft²)</button>
          </div>

          <div class="result" id="winResult" hidden>
            <div class="kpi">
              <div class="k"><div class="t">Largo total (in)</div><div class="v" id="winLenIn">—</div></div>
              <div class="k"><div class="t">Largo total (ft)</div><div class="v" id="winLenFt">—</div></div>
              <div class="k"><div class="t">Costo material</div><div class="v" id="winCost">$0.00</div></div>
            </div>

            <div class="kpi" style="margin-top:10px;">
              <div class="k"><div class="t">Área material (ft²)</div><div class="v" id="winMatFt2">—</div></div>
              <div class="k"><div class="t">Área ventanas (ft²)</div><div class="v" id="winWinFt2">—</div></div>
              <div class="k"><div class="t">Costo/ft²</div><div class="v" id="winCPP">—</div></div>
            </div>

            <div class="notes" id="winNotes"></div>
          </div>
        </div>

      </div>

      <!-- =======================
           CANVAS BANNER
           ======================= -->
      <div class="view" id="view-canvas" hidden>

        <div class="subTitle">1) Datos del rollo de Canvas</div>
        <div class="materialBox">
          <div><b>Fórmula:</b> costo/ft² = precio rollo ÷ ((ancho_in/12) × largo_ft)</div>
          <div><b>Nota:</b> el largo del rollo aquí sí es editable (a diferencia de Tint).</div>
        </div>

        <div class="row">
          <div>
            <label>Ancho del rollo (in)</label>
            <input id="canvasRollWidthIn" type="number" step="0.01" value="54" />
          </div>
          <div>
            <label>Largo del rollo (ft)</label>
            <input id="canvasRollLengthFt" type="number" step="0.01" value="150" />
          </div>
        </div>

        <div class="row">
          <div>
            <label>Precio del rollo (USD)</label>
            <input id="canvasRollPrice" type="number" step="0.01" value="0" />
          </div>
          <div>
            <label>Orientación (para minimizar material)</label>
            <select id="canvasOrientation">
              <option value="auto" selected>Auto (usa menos material)</option>
              <option value="wAlongRoll">Ancho del banner va en el largo del rollo</option>
              <option value="hAlongRoll">Alto del banner va en el largo del rollo</option>
            </select>
          </div>
        </div>

        <div class="materialBox" id="canvasBaseSummary">
          <div><b>Área base:</b> —</div>
          <div><b>Costo/ft²:</b> —</div>
        </div>

        <div class="hr"></div>

        <div class="subTitle">2) ¿Cómo quieres calcular?</div>
        <div class="row">
          <div>
            <label>Método</label>
            <select id="canvasMethod">
              <option value="">— Selecciona —</option>
              <option value="single">Un banner</option>
              <option value="list">Lista de banners</option>
            </select>
          </div>
          <div class="hint">
            <span>Solo se mostrará la opción que elijas.</span>
          </div>
        </div>

        <!-- SINGLE -->
        <div id="canvas-single" hidden>
          <div class="subTitle">Un banner</div>

          <div class="row">
            <div>
              <label>Ancho del banner</label>
              <input id="canvasW" type="number" step="0.01" value="48" />
            </div>
            <div>
              <label>Alto del banner</label>
              <input id="canvasH" type="number" step="0.01" value="72" />
            </div>
          </div>

          <div class="row">
            <div>
              <label>Unidad (ancho/alto)</label>
              <select id="canvasUnit">
                <option value="in" selected>Pulgadas (in)</option>
                <option value="ft">Pies (ft)</option>
              </select>
            </div>
            <div>
              <label>Cantidad (qty)</label>
              <input id="canvasQty" type="number" step="1" value="1" />
            </div>
          </div>

          <button class="primary" id="calcCanvasSingle">Calcular Canvas Banner</button>

          <div class="result" id="canvasSingleResult" hidden>
            <div class="kpi">
              <div class="k"><div class="t">Largo usado (in)</div><div class="v" id="canvasLenIn">—</div></div>
              <div class="k"><div class="t">Largo usado (ft)</div><div class="v" id="canvasLenFt">—</div></div>
              <div class="k"><div class="t">Costo material</div><div class="v" id="canvasCost">$0.00</div></div>
            </div>

            <div class="kpi" style="margin-top:10px;">
              <div class="k"><div class="t">Área material (ft²)</div><div class="v" id="canvasMatFt2">—</div></div>
              <div class="k"><div class="t">Área banner (ft²)</div><div class="v" id="canvasBannerFt2">—</div></div>
              <div class="k"><div class="t">Costo/ft²</div><div class="v" id="canvasCPP">—</div></div>
            </div>

            <div class="notes" id="canvasSingleNotes"></div>
          </div>
        </div>

        <!-- LIST -->
        <div id="canvas-list" hidden>
          <div class="subTitle">Lista de banners</div>

          <div class="winGrid">
            <div class="winRow winHead">
              <div>Descripción</div>
              <div>Ancho</div>
              <div>Alto</div>
              <div>Qty</div>
              <div></div>
            </div>
            <div id="canvasList"></div>
          </div>

          <div class="btnRow">
            <button class="ghost" id="addCanvasRow">+ Agregar banner</button>
            <button class="primary" id="calcCanvasList">Calcular lista</button>
          </div>

          <div class="row" style="margin-top:10px;">
            <div>
              <label>Unidad (ancho/alto) para la lista</label>
              <select id="canvasListUnit">
                <option value="in" selected>Pulgadas (in)</option>
                <option value="ft">Pies (ft)</option>
              </select>
            </div>
            <div class="hint"><span></span></div>
          </div>

          <div class="result" id="canvasListResult" hidden>
            <div class="kpi">
              <div class="k"><div class="t">Largo total (in)</div><div class="v" id="canvasListLenIn">—</div></div>
              <div class="k"><div class="t">Largo total (ft)</div><div class="v" id="canvasListLenFt">—</div></div>
              <div class="k"><div class="t">Costo material</div><div class="v" id="canvasListCost">$0.00</div></div>
            </div>

            <div class="kpi" style="margin-top:10px;">
              <div class="k"><div class="t">Área material (ft²)</div><div class="v" id="canvasListMatFt2">—</div></div>
              <div class="k"><div class="t">Área banners (ft²)</div><div class="v" id="canvasListBannerFt2">—</div></div>
              <div class="k"><div class="t">Costo/ft²</div><div class="v" id="canvasListCPP">—</div></div>
            </div>

            <div class="notes" id="canvasListNotes"></div>
          </div>
        </div>

      </div>

      <!-- =======================
           PLACEHOLDERS
           ======================= -->
      <div class="view" id="view-perfs" hidden>
        <div class="notice">Windows Perfs: próximo módulo.</div>
      </div>

      <div class="view" id="view-decals" hidden>
        <div class="notice">Decals: próximo módulo.</div>
      </div>

    </section>

  </div>
</body>
</html>
